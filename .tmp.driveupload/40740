DROP TABLE VENTAS;
DROP TABLE PRODUCTOS;
DROP TABLE CLIENTES;
DROP TABLE EMPLEADOS;
DROP TABLE DEPARTAMENTOS;

CREATE TABLE DEPARTAMENTOS (
   DEPT_NO  NUMBER(2) NOT NULL,
   DNOMBRE  VARCHAR2(14),
   LOC      VARCHAR2(14),
   PRIMARY KEY (DEPT_NO) );

CREATE TABLE EMPLEADOS (
  EMP_NO    NUMBER(4) NOT NULL,
  APELLIDO  VARCHAR2(10),
  OFICIO    VARCHAR2(10),
  DIR       NUMBER(4),
  FECHA_ALT DATE,
  SALARIO   NUMBER(10),
  COMISION  NUMBER(10),
  DEPT_NO   NUMBER(2) NOT NULL,
 CONSTRAINT PK_EMP_NO PRIMARY KEY (EMP_NO),
 CONSTRAINT FK_EMP_DEPART FOREIGN KEY (DEPT_NO) REFERENCES DEPARTAMENTOS (DEPT_NO),
 CONSTRAINT FK_EMP_DIR FOREIGN KEY (DIR) REFERENCES EMPLEADOS (EMP_NO));
 
 CREATE TABLE CLIENTES (
   NIF		    VARCHAR2(5) PRIMARY KEY NOT NULL,
   NOMBRE	    VARCHAR2(20),
   DOMICILIO    VARCHAR2(36)
);

CREATE TABLE PRODUCTOS (
   COD_PRODUCTO     NUMBER(2) PRIMARY KEY NOT NULL,
   DESCRIPCION      VARCHAR2(25),
   LINEA_PRECIO_UNI NUMBER(5),
   STOCK            NUMBER(2)
);

CREATE TABLE VENTAS (
   NIF		    	VARCHAR2(5) NOT NULL,
   COD_PRODUCTO     NUMBER(2),
   FECHA	    	DATE,
   UNIDADES         NUMBER(2),
   CONSTRAINT PK_VENTAS PRIMARY KEY (NIF, COD_PRODUCTO, FECHA),
   CONSTRAINT FK_VENTAS_CLI FOREIGN KEY (NIF) REFERENCES CLIENTES (NIF),
   CONSTRAINT FK_VENTAS_PROD FOREIGN KEY (COD_PRODUCTO) REFERENCES PRODUCTOS (COD_PRODUCTO)
);

INSERT INTO DEPARTAMENTOS VALUES (10,'CONTABILIDAD','SEVILLA');
INSERT INTO DEPARTAMENTOS VALUES (20,'INVESTIGACION','MADRID');
INSERT INTO DEPARTAMENTOS VALUES (30,'VENTAS','BARCELONA');
INSERT INTO DEPARTAMENTOS VALUES (40,'PRODUCCION','BILBAO');

INSERT INTO EMPLEADOS VALUES (0001,'REY','PRESIDENTE',NULL,TO_DATE('17/11/1981','DD/MM/YYYY'),650000,NULL,20);
INSERT INTO EMPLEADOS VALUES (0002,'JIMENEZ','DIRECTOR',0001,TO_DATE('02/04/1981','DD/MM/YYYY'),386750,NULL,20);
INSERT INTO EMPLEADOS VALUES (0003,'NEGRO','DIRECTOR',0001,TO_DATE('01/05/1981','DD/MM/YYYY'),370500,NULL,30);
INSERT INTO EMPLEADOS VALUES (0004,'CEREZO','DIRECTOR',0001,TO_DATE('09/06/1981','DD/MM/YYYY'),318500,NULL,20);
INSERT INTO EMPLEADOS VALUES (0005,'GIL','ANALISTA',0002,TO_DATE('09/11/1981','DD/MM/YYYY'),390000,NULL,20);
INSERT INTO EMPLEADOS VALUES (0006,'FERNANDEZ','ANALISTA',0002,TO_DATE('03/12/1981','DD/MM/YYYY'),390000, NULL,20);
INSERT INTO EMPLEADOS VALUES (0007,'ARROYO','VENDEDOR',0003,TO_DATE('20/02/1980','DD/MM/YYYY'),208000,39000,30);
INSERT INTO EMPLEADOS VALUES (0008,'SALA','VENDEDOR',0003,TO_DATE('22/02/1981','DD/MM/YYYY'),162500,65000,30);
INSERT INTO EMPLEADOS VALUES (0009,'JIMENO','EMPLEADO',0003,TO_DATE('03/12/1981','DD/MM/YYYY'),123500,NULL,30);
INSERT INTO EMPLEADOS VALUES (0010,'MARTIN','VENDEDOR',0003,TO_DATE('29/09/1981','DD/MM/YYYY'),162500,182000,30);
INSERT INTO EMPLEADOS VALUES (0011,'TOVAR','VENDEDOR',0003,TO_DATE('08/09/1981','DD/MM/YYYY'),195000,0,30);
INSERT INTO EMPLEADOS VALUES (0012,'MUï¿½OZ','EMPLEADO',0004,TO_DATE('23/01/1982','DD/MM/YYYY'),169000, NULL,20);
INSERT INTO EMPLEADOS VALUES (0013,'SANCHEZ','EMPLEADO',0006,TO_DATE('17/12/1980','DD/MM/YYYY'),104000,NULL,20);
INSERT INTO EMPLEADOS VALUES (0014,'ALONSO','EMPLEADO',0005,TO_DATE('23/09/1981','DD/MM/YYYY'),143000,NULL,20);

INSERT INTO PRODUCTOS VALUES (1,'PROCESADOR P133 PROCES',15000,10);
INSERT INTO PRODUCTOS VALUES (2,'PLACA BASE VX PB',10000,10);
INSERT INTO PRODUCTOS VALUES (3,'SIMM EDO 16MB MEM',7000,10);
INSERT INTO PRODUCTOS VALUES (4,'DISCO SCSI 4MB DSCOS',40000,10);
INSERT INTO PRODUCTOS VALUES (5,'PROCESADOR K6 PROCES',20000,10);
INSERT INTO PRODUCTOS VALUES (6,'DISCO IDE 2.5MB DISCOS',25000,10);
INSERT INTO PRODUCTOS VALUES (7,'PROCESADOR MMX PROCES',23000,10);
INSERT INTO PRODUCTOS VALUES (8,'PLACA BASE ATLA PB',50000,10);
INSERT INTO PRODUCTOS VALUES (9,'DIMM SDRAM 32MB MEM',26400,10);

INSERT INTO CLIENTES VALUES ('333C','JUAN PEREZ','C/ Alcala, 4');
INSERT INTO CLIENTES VALUES ('888H','LUIS JIMENEZ','C/ Gran Via, 24');
INSERT INTO CLIENTES VALUES ('555E','PEDRO FERNANDEZ','C/ Serrano, 66');
INSERT INTO CLIENTES VALUES ('222B','JULIAN TOVAR','C/ Velazquez, 123');
INSERT INTO CLIENTES VALUES ('111A','ALBERTO MARTINEZ','C/ Principe de Vergara, 224');
INSERT INTO CLIENTES VALUES ('444D','ALEJANDRO SUAREZ','C/ Alcala, 234');
INSERT INTO CLIENTES VALUES ('666F','JAIME ORTEGOSO ','C/ Goya, 126');

INSERT INTO VENTAS VALUES ('333C',1,'22/09/2021',5);
INSERT INTO VENTAS VALUES ('888H',2,'22/09/2021',4);
INSERT INTO VENTAS VALUES ('555E',3,'23/09/2021',3);
INSERT INTO VENTAS VALUES ('222B',4,'26/09/2021',2);
INSERT INTO VENTAS VALUES ('111A',5,'28/09/2021',1);

commit;
